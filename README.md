# Project_template



# –ó–∞–¥–∞–Ω–∏–µ 1. –ê–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ–º:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–¥–∞–ª—ë–Ω–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å –æ—Ç–æ–ø–ª–µ–Ω–∏–µ –≤ —Å–≤–æ–∏—Ö –¥–æ–º–∞—Ö
- –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª–∞–º–∏ —Ä–µ–ª–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–æ–ø–ª–µ–Ω–∏—è –≤ –¥–æ–º–∞—Ö

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –≤ —Å–≤–æ–∏—Ö –¥–æ–º–∞—Ö —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ —Å –¥–∞—Ç—á–∏–∫–æ–≤, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –≤ –¥–æ–º–∞—Ö
- –°–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –¥–∞—Ç—á–∏–∫–∏ –ø—Ä–∏ –∏—Ö –≤–∫–ª—é—á–µ–Ω–∏–∏


### 2. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: Go
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è, –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏) –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ: –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ, –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –º–æ–Ω–æ–ª–∏—Ç —Å–ª–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø–æ —á–∞—Å—Ç—è–º.
–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ: –¢—Ä–µ–±—É–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–æ–≤ –∏ –≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

üß© 1.–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ (Core Domain)
#### Entities (–°—É—â–Ω–æ—Å—Ç–∏)
–ú–æ–¥—É–ª—å - –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π module_id, –ø—Ä–∏–≤—è–∑–∫—É –∫ –¥–æ–º—É, –ø—Ä–∏–∑–Ω–∞–∫ –≤–∫–ª/–≤—ã–∫–ª \
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ - –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π device_id, —Å—Ç–∞—Ç—É—Å, –∏–º—è –∏ –ø—Ä–∏–≤—è–∑–∫—É –∫ –¥–æ–º—É.\
–ö–æ–º–∞–Ω–¥–∞- –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É: ¬´–≤–∫–ª—é—á–∏—Ç—å¬ª, ¬´–æ—Ç–∫—Ä—ã—Ç—å¬ª –∏ —Ç–¥

#### Value Objects (–û–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è)
–°—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: "on", "off", "error", "offline" \
–î–µ–π—Å—Ç–≤–∏–µ (–¢–∏–ø –∫–æ–º–∞–Ω–¥—ã: "turn_on", "set_temperature", "open_gate")\
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: —è—Ä–∫–æ—Å—Ç—å (0‚Äì100%), —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (22.5¬∞C) , —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ JSON-–æ–±—ä–µ–∫—Ç\

#### Aggregate (–ê–≥—Ä–µ–≥–∞—Ç)
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ - —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –µ–≥–æ –∫–æ–º–∞–Ω–¥ (Command)\
–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–≤–∫–ª—é—á–∞—è –æ—Ç–ø—Ä–∞–≤–∫—É –∫–æ–º–∞–Ω–¥) –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –Ω–µ–≥–æ.

#### Repositories (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
DeviceRepository - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –ø–æ–∏—Å–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ Device.
CommandRepository - –•—Ä–∞–Ω–∏—Ç –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞—É–¥–∏—Ç–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏.

#### Services (–°–µ—Ä–≤–∏—Å—ã)
DeviceControlService
–í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–æ–º–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.


üß© 2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (Subdomain)

#### Entities (–°—É—â–Ω–æ—Å—Ç–∏)
–°—Ü–µ–Ω–∞—Ä–∏–π: –ù–∞–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –ø–æ —É—Å–ª–æ–≤–∏—é –∏–ª–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é\
–î–µ–π—Å—Ç–≤–∏–µ (–î–µ–π—Å—Ç–≤–∏–µ –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏)

#### Value Objects (–û–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è)
–£—Å–ª–æ–≤–∏–µ –∑–∞–ø—É—Å–∫–∞: "motion_detected", "time_09:00", "temperature > 25"\
–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è : –∫–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å "turn_on", "send_notification" \
–ó–∞–¥–µ—Ä–∂–∫–∞
#### Aggregate (–ê–≥—Ä–µ–≥–∞—Ç)
–°—Ü–µ–Ω–∞—Ä–∏–π   –£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –î–µ–π—Å—Ç–≤–∏–µ.

#### Repositories (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
ScenarioRepository: –†–∞–±–æ—Ç–∞–µ—Ç —Å –∞–≥—Ä–µ–≥–∞—Ç–∞–º–∏ –°—Ü–µ–Ω–∞—Ä–∏–π: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ø–æ–∏—Å–∫ –ø–æ –¥–æ–º—É, –∞–∫—Ç–∏–≤–∞—Ü–∏—è\
ActionRepository: –ü–æ–ª—É—á–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ scenario_id
#### Services (–°–µ—Ä–≤–∏—Å—ã)
AutomationService - –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–∏, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è, –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

üß© 3. –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è (Subdomain)
#### Entities (–°—É—â–Ω–æ—Å—Ç–∏)
–ü–æ–∫–∞–∑–∞–Ω–∏–µ –¥–∞—Ç—á–∏–∫–∞
–°–æ–±—ã—Ç–∏–µ —Å –¥–∞—Ç—á–∏–∫–∞
#### Value Objects (–û–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è)
–ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è: –ß–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ + –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è: 23.5, "¬∞C")\
–î–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
#### Aggregate (–ê–≥—Ä–µ–≥–∞—Ç)
SensorReading / SensorEvent

#### Repositories (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
ReadingRepository –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∏—è –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –∏ –≤—Ä–µ–º–µ–Ω–∏ \
EventRepository –ü—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –≤ —à–∏–Ω—É (Kafka)\
#### Services (–°–µ—Ä–≤–∏—Å—ã)
TelemetryService –°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–≤–∏–∂–µ–Ω–∏–µ), –ø—É–±–ª–∏–∫—É–µ—Ç –∏—Ö\

üß© 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏  (Subdomain)

#### Entities (–°—É—â–Ω–æ—Å—Ç–∏)
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –°–≤—è–∑—å –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –∞–∫–∫–∞—É–Ω—Ç–æ–º —É –ø–∞—Ä—Ç–Ω—ë—Ä–∞. –•—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω—ã, –∏–º—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞\
–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
#### Value Objects (–û–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è)
–¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ API –ø–∞—Ä—Ç–Ω—ë—Ä–∞\
–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞\
–ü—Ä–æ—Ç–æ–∫–æ–ª\
–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
#### Aggregate (–ê–≥—Ä–µ–≥–∞—Ç)
Integration - —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∏ —Ç–æ–∫–µ–Ω–∞–º–∏.
#### Repositories (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
IntegrationRepository (–ü–æ–∏—Å–∫, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π)
#### Services (–°–µ—Ä–≤–∏—Å—ã)
IntegrationService (–ü–æ–¥–∫–ª—é—á–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω, –æ—Ç–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é)

üß© 5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Subdomain)

#### Entities (–°—É—â–Ω–æ—Å—Ç–∏)
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
#### Value Objects (–û–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è)
–¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\
–¢–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: "sms", "push")\
–°—Ç–∞—Ç—É—Å: "sent", "failed", "pending"\
–ê–¥—Ä–µ—Å–∞—Ç
#### Aggregate (–ê–≥—Ä–µ–≥–∞—Ç)
Notification (–£–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∏ —Å—Ç–∞—Ç—É—Å–æ–º.–ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è)
#### Repositories (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
NotificationRepository (–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ —Å—Ç–∞—Ç—É—Å—É)
#### Services (–°–µ—Ä–≤–∏—Å—ã)
NotificationService (–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö, —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç)

üß© 6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–æ—Å—Ç—É–ø (Subdomain)

#### Entities (–°—É—â–Ω–æ—Å—Ç–∏)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–í–ª–∞–¥–µ–ª–µ—Ü –¥–æ–º–æ–≤ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –ò–º–µ–µ—Ç email, —Ö–µ—à –ø–∞—Ä–æ–ª—è, –¥–∞—Ç—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø—Ä–∏–≤—è–∑–∫—É –∫ –¥–æ–º—É)
–°–µ—Å—Å–∏—è - –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —Ç–æ–∫–µ–Ω, IP, –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è)
#### Value Objects (–û–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è)
Email\
HashedPassword\
JWTToken

#### Aggregate (–ê–≥—Ä–µ–≥–∞—Ç)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ( –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º–∏ —Å–µ—Å—Å–∏—è–º–∏)

#### Repositories (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
UserRepository (–ü–æ–∏—Å–∫ –ø–æ email, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è)\
SessionRepository (–°–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–∏—Å–∫ –ø–æ —Ç–æ–∫–µ–Ω—É, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π)
#### Services (–°–µ—Ä–≤–∏—Å—ã)
AuthService (–õ–æ–≥–∏–Ω, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞, –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã)

### **4. –ü—Ä–æ–±–ª–µ–º—ã –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è**

–°–∏—Å—Ç–µ–º–∞ —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–æ–ø–ª–µ–Ω–∏–µ–º. –î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∏–º–µ—é—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏


### 5. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–∏—Å—Ç–µ–º—ã¬†‚Äî –¥–∏–∞–≥—Ä–∞–º–º–∞ –°4

**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –º–æ–Ω–æ–ª–∏—Ç–∞**
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/c4_l1.png)
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/C4-l1(1).png)
# –ó–∞–¥–∞–Ω–∏–µ 2. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (Containers)**

![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/–°4-Level2.png)

**–î–∏–∞–≥—Ä–∞–º–º—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
**UI (WEB-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)**
\
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/–°4-Level3-ui.png)\
\
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (API Gateway)**
\
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/–°4-L3-ApiGateway.png)\
\
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–æ—Å—Ç—É–ø)**
\
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/–°4-Level3-useraccess.png)\
\
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏)**
\
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/–°4-Level3-deviceControl.png)\
\
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)**
\
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/–°4-Level3-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è.png)\
\
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è)**
\
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/C4-Level3-–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è.png)\
\
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)**
\
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/–°4-Level3-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è.png)\
\
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)**
\
![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/C4-L3 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.png)\
\
**–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–¥–∞ (Code)**

![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/–°4-Level4-–ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.png)\

# –ó–∞–¥–∞–Ω–∏–µ 3. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ER-–¥–∏–∞–≥—Ä–∞–º–º—ã

![–î–∏–∞–≥—Ä–∞–º–º–∞ ](images/ER-–¥–∏–∞–≥—Ä–∞–º–º–∞-1.png)\

# –ó–∞–¥–∞–Ω–∏–µ 4. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### 1. –¢–∏–ø API

–ë—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–∞ —Ç–∏–ø–∞ API, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è:
1. –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ ‚Üí REST/HTTP API
2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ ‚Üí –°–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ —à–∏–Ω—É —Å–æ–æ–±—â–µ–Ω–∏–π (Kafka)

–û–¥–Ω–∏ —Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–≤–∫–ª—é—á–∏ —Å–≤–µ—Ç¬ª),
   –î—Ä—É–≥–∏–µ ‚Äî —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –≤–∫–ª—é—á–∏ –∑–∞–ø–∏—Å—å –∫–∞–º–µ—Ä—ã¬ª).
   REST/HTTP API ‚Äî –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
REST ‚Äî –¥–ª—è –∫–æ–º–∞–Ω–¥ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ —Å–µ—Ä–≤–∏—Å —Ö–æ—á–µ—Ç —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å, –Ω—É–∂–µ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç).\
Kafka ‚Äî –¥–ª—è —Å–æ–±—ã—Ç–∏–π. –ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ —É–∂–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ, —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å, –∞ –Ω–µ –æ–ø—Ä–∞—à–∏–≤–∞—Ç—å.

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ó–¥–µ—Å—å –ø—Ä–∏–ª–æ–∂–∏—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ –≤ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã. 
–î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger/OpenAPI –∏–ª–∏ AsyncAPI.
[openApi/controlDevice.yml]

# –ó–∞–¥–∞–Ω–∏–µ 5. –†–∞–±–æ—Ç–∞ —Å docker –∏ docker-compose

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ apps.

–¢–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–º–æ–Ω–æ–ª–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç—á–∏–∫–∞–º–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã. 
–í README.md –æ–ø–∏—Å–∞–Ω–æ –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ.

–í–∞–º –Ω—É–∂–Ω–æ:

1) —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ temperature-api –Ω–∞ –ª—é–±–æ–º —É–¥–æ–±–Ω–æ–º –¥–ª—è –≤–∞—Å —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, 
–∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ /temperature?location= –±—É–¥–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å —Ä–∞–Ω–¥–æ–º–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.

Locations - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã, sensorId - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–Ω–∞—Ç—ã

```
	// If no location is provided, use a default based on sensor ID
	if location == "" {
		switch sensorID {
		case "1":
			location = "Living Room"
		case "2":
			location = "Bedroom"
		case "3":
			location = "Kitchen"
		default:
			location = "Unknown"
		}
	}

	// If no sensor ID is provided, generate one based on location
	if sensorID == "" {
		switch location {
		case "Living Room":
			sensorID = "1"
		case "Bedroom":
			sensorID = "2"
		case "Kitchen":
			sensorID = "3"
		default:
			sensorID = "0"
		}
	}
```

2) –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç —É–ø–∞–∫–æ–≤–∞—Ç—å –≤ Docker –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ docker-compose. –ü–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 8081

3) –ö—Ä–æ–º–µ —Ç–æ–≥–æ –¥–ª—è smart_home –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - –¥–æ–±–∞–≤—å—Ç–µ –≤ docker-compose —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ postgres —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å–∫—Ä–∏–ø—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ./smart_home/init.sql

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Postman –∫–æ–ª–ª–µ–∫—Ü–∏—é smarthome-api.postman_collection.json –∏ –≤—ã–∑–≤–∞—Ç—å:

- Create Sensor
- Get All Sensors

–î–æ–ª–∂–Ω–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä–∞–∑–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã

–†–µ–≤—å—é–µ—Ä –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ.


